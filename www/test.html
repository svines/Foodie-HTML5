<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Foodie</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />

    <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">     
    <link href="css/styles.css" rel="stylesheet">

<style>
.navbar-fixed-side-left {
  left: 0;
}
.navbar-fixed-side-right {
  right: 0;
}
.navbar-fixed-side {
  position: fixed;
  border-width: 0;
  z-index: 1030;
  min-height: 5px;
  min-width: 5px;
  max-width: 200px;
  margin-bottom: 0;
  border: 0px solid transparent;
}
.navbar-fixed-side .navbar-toggle {
  float: none;
  margin: 0;
}
.navbar-fixed-side .nav > li > a {
  width: 100%;
  padding: 5px;
}
.navbar-fixed-side .dropdown-menu > li > a {
  padding: 5px;
}
.navbar-fixed-side .dropdown-header {
  padding: 5px;
}
.navbar-fixed-side .navbar-nav {
  margin: 0;
}
.navbar-fixed-side .navbar-nav > li {
  float: none;
}
.navbar-fixed-side .navbar-nav > li > a {
  padding: 5px;
  line-height: 20px;
}
.navbar-fixed-side .navbar-nav .open .dropdown-menu > li > a,
.navbar-fixed-side .navbar-nav .open .dropdown-menu .dropdown-header {
  padding: 3px 5px 3px 15px;
}
.navbar-fixed-side .container {
  width: 100%;
  padding: 0;
}
.navbar-fixed-side .navbar-header {
  float: none;
  margin: 0;
}
.navbar-fixed-side .navbar-collapse {
  padding: 0 2px;
}
.navbar-fixed-side .container .navbar-collapse {
  margin: 0;
}
.navbar-fixed-side .container .navbar-brand {
  margin: 0;
}
.navbar-fixed-side .navbar-brand {
  float: none;
  height: 100%;
  padding: 5px 3px;
  font-size: 18px;
  line-height: 20px;
}
</style>

</head>
<body>

<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-side navbar-fixed-side-left" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a class="navbar-brand" href="#">Project name</a></li>
                </ul>
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li class="dropdown-header">Nav header</li>
                            <li><a href="#">Separated link</a></li>
                            <li><a href="#">One more separated link</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </div>

    <div id="user-profile-page" class="content">

      
        <div class="contaier">
          
            <h2 class="text-center">User Profile</h2>
        </div>
      


      <form id="user-form">
        <div class="form-group">
          <input class="form-control" type="text" name="first_name" value=""  placeholder="First Name">
        </div>
        <div class="form-group">
          <input class="form-control" type="text" name="last_name" value="" placeholder="Last Name">
        </div>
        <div class="form-group">
          <input class="form-control" type="email" name="email" value="" placeholder="Email" readonly>
        </div>
        
		  
		  <div class="form-group">
          <input class="form-control" type="phone" name="phone" value="" placeholder="Phone">
        </div>
        <div class="form-group">
          <input class="form-control" type="text" name="address" value=""  placeholder="Address">
        </div>
        <div class="form-group">
          <input class="form-control" type="text" name="city" value=""  placeholder="City">
        </div>
        
		  <div class="form-group">
          <select class="form-control" name="state" id="state">
            <option value="">-- Select State --</option>
				<option value="AL">Alabama</option><option value="AK">Alaska</option><option value="AZ">Arizona</option><option value="AR">Arkansas</option><option value="CA">California</option><option value="CO">Colorado</option><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="DC">Dist. of Columbia</option><option value="FL">Florida</option><option value="GA">Georgia</option><option value="HI">Hawaii</option><option value="ID">Idaho</option><option value="IL">Illinois</option><option value="IN">Indiana</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="ND">North Dakota</option><option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option><option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option><option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option><option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option>
          </select>
        </div>
        <div class="form-group">
          <input class="form-control" type="text" name="zip" value="" id="zip" placeholder="Zip">
        </div>
        <button type="submit" class="btn btn-positive btn-block btn-submit">Save</button>

      </form>
            
    </div>

<br /><br /><br /><br /><br /><br />

<div id="bottom-bar">
	<div class="container">
	  <div class="row">
			<div class="col-xs-4 no-padding">
			<a class="tab-item " href="map.html">
			  <img class="tab-icon" src="images/map-icon.png" alt="map-icon">          
			  <!-- <i class="fa fa-map-o tab"></i> -->
			  <img class="border-image" src="images/border-image.png" alt="border-image">
			</a>
			</div>
			<div class="col-xs-4 no-padding">
			<a class="tab-item" href="reservations.html">
			  <img class="tab-icon" src="images/food-icon.png" alt="food-icon">                    
			  <img class="border-image" src="images/border-image.png" alt="border-image">
			</a>
			</div>
			<div class="col-xs-4 no-padding">
			<a class="tab-item active" href="user-profile.html">
			  <img class="tab-icon" src="images/profile-icon.png" alt="map-icon">                    
			</a>        
			</div>
	  </div>
	</div>
 </div>


<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/jquery.validate.min.js"></script> 
<script src="js/bootstrap.min.js"></script>
<script src="js/common.js"></script> 

<script>

$(document).ready(function(e) {
	if( localStorage.getItem('userData') === null ){
	
	}else{
		var jsonData = JSON.parse(localStorage.getItem('userData'));
		$('#user-form').find(':input').each(function(){
			el = $(this);
			if( el.prop('type') == 'radio' || el.prop('type') == 'checkbox'  ){
				if( el.val() == jsonData[el.prop('name')] ){ el.prop('checked', true); el.trigger('change'); }
			}else{
				el.val( jsonData[el.prop('name')] );
			}
		});
	}
	
	
$("#user-form").validate({
	errorPlacement: function(error, element) {},
	submitHandler: function(form) {

			formData = $(form).serialize();
			formData += '&userId='+localStorage.getItem('userId')+'&userToken='+localStorage.getItem('userToken'); 
			$.ajax({
				type: "POST", dataType: 'json', url: "http://mobileapi.foodiesys.com/foodie-mssql/ajax.php?h=userUpdate", data: formData,
				beforeSend: function() { waitingDialog.show('Loading', {dialogSize: 'sm', progressType: 'info'}); },
				complete: function() { waitingDialog.hide(); },
			}).fail(  ajaxError )
			.done(function(data){
				if (data.Success == 'true') {
					localStorage.setItem('userData', data.userData );
					BAlert.find('.modal-header h3').html('<i class="fa check"></i> Success');
					BAlert.find('.modal-body').html('<p class="text-success">Your profile has been updated successfuly.</p>');
					BAlert.modal();
				} else { 
					BAlert.find('.modal-header h3').html('<i class="fa fa-exclamation-triangle"></i> Error');
					BAlert.find('.modal-body').html('<p class="text-danger">'+data.Msg+'</p>');
					BAlert.modal();
				}
				if (data.JS) { eval(data.JS); }
			}); // ajax	

	}// submit handler
});	
	
	
});

</script>




  </body>
</html>